{"ast":null,"code":"import _slicedToArray from\"/Users/mine/Desktop/react_baby/udemy_react_project/food_ordering_app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _toConsumableArray from\"/Users/mine/Desktop/react_baby/udemy_react_project/food_ordering_app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/mine/Desktop/react_baby/udemy_react_project/food_ordering_app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useReducer}from\"react\";import CartContext from\"./cart-context\";import{jsx as _jsx}from\"react/jsx-runtime\";var defaultCartState={items:[],totalAmount:0};var cartReducer=function cartReducer(state,action){if(action.type===\"ADD_ITEM\"){var existingItemIndex=state.items.findIndex(function(item){return item.id===action.item.id;});var existingCartItem=state.items[existingItemIndex];var updatedItems;if(existingCartItem){var updatedItem;updatedItem=_objectSpread(_objectSpread({},existingCartItem),{},{amount:existingCartItem.amount+action.item.amount});updatedItems=_toConsumableArray(state.items);updatedItems[existingItemIndex]=updatedItem;}else{updatedItems=state.items.concat(action.item);}var updatedTotalAmount=state.totalAmount+action.item.price+action.item.amount;return{items:updatedItems,totalAmount:updatedTotalAmount};}return defaultCartState;};var CartProvider=function CartProvider(props){var _useReducer=useReducer(cartReducer,defaultCartState),_useReducer2=_slicedToArray(_useReducer,2),cartState=_useReducer2[0],setCartState=_useReducer2[1];var addItemToCartHandler=function addItemToCartHandler(item){setCartState({type:\"ADD_ITEM\",item:item});};var removeItemFromCartHandler=function removeItemFromCartHandler(id){setCartState({type:\"REMOVE_ITEM\",id:id});};var cartContextHelper={items:cartState.items,totalAmount:cartState.totalAmount,addItem:addItemToCartHandler,removeItem:removeItemFromCartHandler};return/*#__PURE__*/_jsx(CartContext.Provider,{value:cartContextHelper,children:props.children});};export default CartProvider;","map":{"version":3,"names":["useReducer","CartContext","defaultCartState","items","totalAmount","cartReducer","state","action","type","existingItemIndex","findIndex","item","id","existingCartItem","updatedItems","updatedItem","amount","concat","updatedTotalAmount","price","CartProvider","props","cartState","setCartState","addItemToCartHandler","removeItemFromCartHandler","cartContextHelper","addItem","removeItem","children"],"sources":["/Users/mine/Desktop/react_baby/udemy_react_project/food_ordering_app/src/Store/CartProvider.js"],"sourcesContent":["import { useReducer } from \"react\";\nimport CartContext from \"./cart-context\";\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0,\n};\nconst cartReducer = (state, action) => {\n  if (action.type === \"ADD_ITEM\") {\n    const existingItemIndex = state.items.findIndex(\n      (item) => item.id === action.item.id\n    );\n\n    const existingCartItem = state.items[existingItemIndex];\n\n    let updatedItems;\n\n    if (existingCartItem) {\n      let updatedItem;\n      updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    const updatedTotalAmount =\n      state.totalAmount + action.item.price + action.item.amount;\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n\n  return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n  const [cartState, setCartState] = useReducer(cartReducer, defaultCartState);\n\n  const addItemToCartHandler = (item) => {\n    setCartState({\n      type: \"ADD_ITEM\",\n      item: item,\n    });\n  };\n\n  const removeItemFromCartHandler = (id) => {\n    setCartState({ type: \"REMOVE_ITEM\", id: id });\n  };\n\n  const cartContextHelper = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n  };\n  return (\n    <CartContext.Provider value={cartContextHelper}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;\n"],"mappings":"qdAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,MAAOC,YAAW,KAAM,gBAAgB,CAAC,2CAEzC,GAAMC,iBAAgB,CAAG,CACvBC,KAAK,CAAE,EAAE,CACTC,WAAW,CAAE,CACf,CAAC,CACD,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIC,KAAK,CAAEC,MAAM,CAAK,CACrC,GAAIA,MAAM,CAACC,IAAI,GAAK,UAAU,CAAE,CAC9B,GAAMC,kBAAiB,CAAGH,KAAK,CAACH,KAAK,CAACO,SAAS,CAC7C,SAACC,IAAI,QAAKA,KAAI,CAACC,EAAE,GAAKL,MAAM,CAACI,IAAI,CAACC,EAAE,GACrC,CAED,GAAMC,iBAAgB,CAAGP,KAAK,CAACH,KAAK,CAACM,iBAAiB,CAAC,CAEvD,GAAIK,aAAY,CAEhB,GAAID,gBAAgB,CAAE,CACpB,GAAIE,YAAW,CACfA,WAAW,gCACNF,gBAAgB,MACnBG,MAAM,CAAEH,gBAAgB,CAACG,MAAM,CAAGT,MAAM,CAACI,IAAI,CAACK,MAAM,EACrD,CACDF,YAAY,oBAAOR,KAAK,CAACH,KAAK,CAAC,CAC/BW,YAAY,CAACL,iBAAiB,CAAC,CAAGM,WAAW,CAC/C,CAAC,IAAM,CACLD,YAAY,CAAGR,KAAK,CAACH,KAAK,CAACc,MAAM,CAACV,MAAM,CAACI,IAAI,CAAC,CAChD,CAEA,GAAMO,mBAAkB,CACtBZ,KAAK,CAACF,WAAW,CAAGG,MAAM,CAACI,IAAI,CAACQ,KAAK,CAAGZ,MAAM,CAACI,IAAI,CAACK,MAAM,CAE5D,MAAO,CACLb,KAAK,CAAEW,YAAY,CACnBV,WAAW,CAAEc,kBACf,CAAC,CACH,CAEA,MAAOhB,iBAAgB,CACzB,CAAC,CAED,GAAMkB,aAAY,CAAG,QAAfA,aAAY,CAAIC,KAAK,CAAK,CAC9B,gBAAkCrB,UAAU,CAACK,WAAW,CAAEH,gBAAgB,CAAC,4CAApEoB,SAAS,iBAAEC,YAAY,iBAE9B,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIb,IAAI,CAAK,CACrCY,YAAY,CAAC,CACXf,IAAI,CAAE,UAAU,CAChBG,IAAI,CAAEA,IACR,CAAC,CAAC,CACJ,CAAC,CAED,GAAMc,0BAAyB,CAAG,QAA5BA,0BAAyB,CAAIb,EAAE,CAAK,CACxCW,YAAY,CAAC,CAAEf,IAAI,CAAE,aAAa,CAAEI,EAAE,CAAEA,EAAG,CAAC,CAAC,CAC/C,CAAC,CAED,GAAMc,kBAAiB,CAAG,CACxBvB,KAAK,CAAEmB,SAAS,CAACnB,KAAK,CACtBC,WAAW,CAAEkB,SAAS,CAAClB,WAAW,CAClCuB,OAAO,CAAEH,oBAAoB,CAC7BI,UAAU,CAAEH,yBACd,CAAC,CACD,mBACE,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAEC,iBAAkB,UAC5CL,KAAK,CAACQ,QAAQ,EACM,CAE3B,CAAC,CAED,cAAeT,aAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}